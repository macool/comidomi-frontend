form(
  name="pfaVm.addressForm"
  ng-submit="pfaVm.processAddress()"
  novalidate
)
  ion-content.addresses-wrapper.resource-form(
    locking="false"
  )
    .list.list-inset.fields-wrapper
      legend {{::pfaVm.inUpdateMode ? ("addresses.formLegendUpdate"|translate) : ("addresses.formLegendNew"|translate)}}

      maps(
        lat="pfaVm.addressFormData.lat"
        lon="pfaVm.addressFormData.lon"
        default-in-current-geolocation="pfaVm.defaultInCurrentGeolocation"
        direccion="pfaVm.addressFormData.direccion_uno"
        direccion-dos="pfaVm.addressFormData.direccion_dos"
        referencia="pfaVm.addressFormData.referencia"
        geolocation-message-key="pfaVm.geolocationMessageKey"
      )
      show-error(array-messages='pfaVm.messages.lat || pfaVm.messages.lon')
      .text-stable {{ pfaVm.geolocationMessageKey | translate }}

      label.item.item-input.item-stacked-label(
        ng-class="{'item-error': pfaVm.messages.nombre}"
      )
        span.input-label {{::("addresses.name"|translate)}}
        input(
          type='text'
          ng-model='pfaVm.addressFormData.nombre'
          placeholder='{{ ::("addresses.namePlaceholder" | translate) }}'
        )
      .errors-wrapper
        show-error(array-messages='pfaVm.messages.nombre')

      //- label.item.item-input.item-stacked-label(
      //-   ng-class="{'item-error': pfaVm.messages.ciudad}"
      //- )
      //-   span.input-label {{::("addresses.city"|translate)}}
      //-   input(
      //-     type='text'
      //-     ng-model='::pfaVm.addressFormData.ciudad'
      //-   )
      //- .errors-wrapper
      //-   show-error(array-messages='pfaVm.messages.ciudad')

      label.item.item-input.item-stacked-label(
        ng-class="{'item-error': pfaVm.messages.direccion_uno}"
      )
        span.input-label
          | {{::("addresses.addressOne"|translate)}} *
        input(
          type='text'
          ng-model='::pfaVm.addressFormData.direccion_uno'
          placeholder='{{ ::("addresses.addressOnePlaceholder" | translate) }}'
          required
        )
      .errors-wrapper
        show-error(array-messages='pfaVm.messages.direccion_uno')

      label.item.item-input.item-stacked-label(
        ng-class="{'item-error': pfaVm.messages.direccion_dos}"
      )
        span.input-label {{::("addresses.addressTwo"|translate)}}
        input(
          type='text'
          ng-model='pfaVm.addressFormData.direccion_dos'
          placeholder='{{ ::("addresses.addressTwoPlaceholder" | translate) }}'
        )
      .errors-wrapper
        show-error(array-messages='pfaVm.messages.direccion_dos')

      //- label.item.item-input.item-stacked-label(
      //-   ng-class="{'item-error': pfaVm.messages.parroquia}"
      //- )
      //-   span.input-label {{::("addresses.parish"|translate)}}
      //-   input(
      //-     type='text'
      //-     ng-model='pfaVm.addressFormData.parroquia'
      //-   )
      //- .errors-wrapper
      //-   show-error(array-messages='pfaVm.messages.parroquia')
      //-
      //- label.item.item-input.item-stacked-label(
      //-   ng-class="{'item-error': pfaVm.messages.barrio}"
      //- )
      //-   span.input-label {{::("addresses.neighborhood"|translate)}}
      //-   input(
      //-     type='text'
      //-     ng-model='pfaVm.addressFormData.barrio'
      //-   )
      //- .errors-wrapper
      //-   show-error(array-messages='pfaVm.messages.barrio')
      //-
      //- label.item.item-input.item-stacked-label(
      //-   ng-class="{'item-error': pfaVm.messages.codigo_postal}"
      //- )
      //-   span.input-label {{::("addresses.zipCode"|translate)}}
      //-   input(
      //-     type='text'
      //-     ng-model='pfaVm.addressFormData.codigo_postal'
      //-   )
      //- .errors-wrapper
      //-   show-error(array-messages='pfaVm.messages.codigo_postal')

      label.item.item-input.item-stacked-label(
        ng-class="{'item-error': pfaVm.messages.numero_convencional}"
      )
        span.input-label {{::("addresses.telephoneNumber"|translate)}}
        input(
          type='tel'
          ng-model='pfaVm.addressFormData.numero_convencional'
          placeholder='072369727'
        )
      .errors-wrapper
        show-error(array-messages='pfaVm.messages.numero_convencional')

      label.item.item-input.item-stacked-label(
        ng-class="{'item-error': pfaVm.messages.referencia}"
      )
        span.input-label {{::("addresses.reference"|translate)}}
        input(
          type='text'
          ng-model='pfaVm.addressFormData.referencia'
          placeholder='Ej: casa amarilla, segundo piso'
        )
      .errors-wrapper
        show-error(array-messages='pfaVm.messages.referencia')

  ion-footer-bar.bar-stable.bar-footer--tall
    button.button-full.button-main(
      type="submit"
      ng-disabled="pfaVm.addressFormData.$invalid"
    ) {{ ::pfaVm.inUpdateMode ? ("addresses.updateBtnText"|translate) : ("addresses.saveBtnText"|translate) }}